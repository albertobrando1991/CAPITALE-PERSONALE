# Protocollo C.P.A. 2.0 - Exam Preparation Platform

## Overview

This is a full-stack exam preparation platform for Italian public sector exams (concorsi pubblici). The application provides AI-powered study tools including flashcards, quizzes, spaced repetition, and bando (exam notice) analysis. The system follows a phased learning methodology with progress tracking across multiple study phases.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture
- **Framework**: React 18 with TypeScript
- **Routing**: Wouter (lightweight router)
- **State Management**: TanStack Query for server state, React Context for auth state
- **UI Components**: shadcn/ui component library built on Radix UI primitives
- **Styling**: Tailwind CSS with custom design tokens for light/dark themes
- **Build Tool**: Vite with path aliases (@/, @shared/, @assets/)

The frontend follows a page-based architecture with reusable components. Pages are located in `client/src/pages/` and components in `client/src/components/`. The design system emphasizes productivity-focused, distraction-free interfaces with Inter font and consistent spacing primitives.

### Backend Architecture
- **Framework**: Express.js with TypeScript
- **API Pattern**: RESTful endpoints under `/api/` prefix
- **File Uploads**: Multer for handling PDF uploads (bando analysis)
- **AI Integration**: OpenAI API for document analysis and content generation
- **Session Handling**: Express sessions with connect-pg-simple for PostgreSQL session storage

The server uses a modular structure with routes registered in `server/routes.ts`. Static file serving is handled separately for production builds.

### Data Storage
- **Database**: PostgreSQL with Drizzle ORM
- **Schema Location**: `shared/schema.ts` (shared between client and server)
- **Migrations**: Drizzle Kit with output to `./migrations`
- **Key Entities**: Users, Concorsi (exams), UserProgress, with JSON storage for bando analysis results

The schema uses UUID primary keys generated by PostgreSQL. Drizzle-zod is used for automatic schema validation.

### Authentication
- **Current State**: Mock authentication context in `client/src/contexts/AuthContext.tsx`
- **Storage Interface**: `server/storage.ts` provides an abstraction layer with in-memory implementation
- **Session Support**: Infrastructure ready for express-session with PostgreSQL backing

### Development Workflow
- **Dev Server**: `npm run dev` runs tsx for hot-reloading TypeScript
- **Type Checking**: `npm run check` for TypeScript validation
- **Database Sync**: `npm run db:push` for Drizzle schema push
- **Build**: Custom build script bundles server with esbuild and client with Vite

## External Dependencies

### AI Services
- **OpenAI API**: Used for bando document analysis (extracting exam requirements, subjects, deadlines)
- **Configuration**: Supports both `AI_INTEGRATIONS_OPENAI_API_KEY` and `OPENAI_API_KEY` environment variables
- **Custom Base URL**: Optional `AI_INTEGRATIONS_OPENAI_BASE_URL` for proxy/alternative endpoints

### Database
- **PostgreSQL**: Required for production (connection via `DATABASE_URL` environment variable)
- **Session Storage**: connect-pg-simple for persistent sessions

### Third-Party UI Libraries
- **Radix UI**: Full suite of accessible primitives (dialogs, dropdowns, tabs, etc.)
- **Recharts**: Data visualization for statistics pages
- **Embla Carousel**: Carousel functionality
- **date-fns**: Date formatting and manipulation

### Development Tools
- **Replit Plugins**: Runtime error overlay, cartographer, dev banner (development only)
- **Google Fonts**: Inter font family loaded via CDN